<p-card class="no-shadow">
  <ng-template pTemplate="header">
    <div class="card-header">
      <span>{{ column().label }}</span>
      <form class="card-form" [formGroup]="formGroup()">
        <p-iconField iconPosition="right">
          <p-inputIcon styleClass="pi pi-search"/>
          <input
            [formControl]="search()"
            type="text"
            pInputText
          />
        </p-iconField>
        <p-button class="primary-light" [icon]="Icons.SORT_ALT"/>
      </form>
    </div>
  </ng-template>
  <ng-template pTemplate="body">
    <div class="tasks-list">
      @for (task of filteredTasks(); track task.id) {
        <it-task
          [highlight]="true"
          [task]="task"
          (onEditTask)="editTask(task)"
          (onDeleteTask)="deleteTask(task)"
        />
      } @empty {
        <it-no-data-box [label]="'No Data'" [padding]="0"></it-no-data-box>
      }
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <div class="add-task ripple primary"
         pRipple
         (click)="addTaskOp.toggle($event)">
      <i [class]="Icons.PLUS"></i>
      <span class="primary bold">Aggiungi task</span>
    </div>
    <p-overlayPanel #addTaskOp>
      <it-add-task-overlay
        [tags]="Tags"
        [users]="Users"
        (onCreateTask)="createTask($event); addTaskOp.toggle(true)"
      />
    </p-overlayPanel>
  </ng-template>
</p-card>
